<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="google-site-verification" content="FQ4s-NjVsojslMD8_pxEjX8DvHIf5l9M6jnGMxHAqzU" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|consolas:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="漠北空城">
<meta property="og:url" content="http://yuechang.github.io/page/11/index.html">
<meta property="og:site_name" content="漠北空城">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="漠北空城">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '0SIHCUP0IO',
      apiKey: '679d45989315bff1606630bbd597f23d',
      indexName: 'blog_index_name',
      hits: {"per_page":10},
      labels: {"input_placeholder":"输入关键字","hits_empty":"没有找到与[${query}]相关的内容","hits_stats":"${hits}条相关记录，共耗时 ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yuechang.github.io/page/11/"/>





  <title>漠北空城</title>
  








<link rel="stylesheet" type="text/css" href="/assets/css/DPlayer.min.css"><script src="/assets/js/DPlayer.min.js"></script></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">漠北空城</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">听海观潮</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuechang.github.io/2015/07/08/redis-conf配置文件详解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yue Chang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://yuechang.qiniudn.com/naruto.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="漠北空城">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/08/redis-conf配置文件详解/" itemprop="url">redis.conf配置文件详解</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-07-08T11:49:04+08:00">
                Jul 8 2015
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2015/07/08/redis-conf配置文件详解/" class="leancloud_visitors" data-flag-title="redis.conf配置文件详解">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>redis配置文件redis.conf详细说明</p>
<h3 id="1、daemonize"><a href="#1、daemonize" class="headerlink" title="1、daemonize"></a>1、daemonize</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># By default Redis does not run as a daemon. Use 'yes' if you need it.</span><br><span class="line"># Note that Redis will write a pid file in /var/run/redis.pid when daemonized.</span><br><span class="line"># Redis默认不是以守护进程的方式运行，可以通过该配置项修改，使用yes启用守护进程（守护进程</span><br><span class="line"># daemon）是指在UNIX或其他多任务操作系统中在后台执行的电脑程序，并不会接受电脑用户的直接操</span><br><span class="line"># 控。）</span><br><span class="line">daemonize no</span><br></pre></td></tr></table></figure>
<h3 id="2、pidfile"><a href="#2、pidfile" class="headerlink" title="2、pidfile"></a>2、pidfile</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># When running daemonized, Redis writes a pid file in /var/run/redis.pid by</span><br><span class="line"># default. You can specify a custom pid file location here.</span><br><span class="line"># 当 Redis 以守护进程的方式运行的时候,Redis 默认会把 pid 文件放在/var/run/redis.pid,</span><br><span class="line"># 你可以配置到其他地址。当运行多个 redis 服务时,需要指定不同的 pid 文件和端口</span><br><span class="line"># pidfile /var/run/redis.pid</span><br></pre></td></tr></table></figure>
<h3 id="3、port"><a href="#3、port" class="headerlink" title="3、port"></a>3、port</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Accept connections on the specified port, default is 6379.</span><br><span class="line"># If port 0 is specified Redis will not listen on a TCP socket.</span><br><span class="line"># 端口没什么好说的</span><br><span class="line">port 6379</span><br></pre></td></tr></table></figure>
<h3 id="4、bind"><a href="#4、bind" class="headerlink" title="4、bind"></a>4、bind</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># If you want you can bind a single interface, if the bind option is not</span><br><span class="line"># specified all the interfaces will listen for incoming connections.</span><br><span class="line"># 指定Redis可接收请求的IP地址,不设置将处理所有请求,建议生产环境中设置</span><br><span class="line"># bind 127.0.0.1</span><br></pre></td></tr></table></figure>
<h3 id="5、timeout"><a href="#5、timeout" class="headerlink" title="5、timeout"></a>5、timeout</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Close the connection after a client is idle for N seconds (0 to disable)</span><br><span class="line"># 客户端连接的超时时间,单位为秒,超时后会关闭连接</span><br><span class="line">timeout 0</span><br></pre></td></tr></table></figure>
<h3 id="6、logfile"><a href="#6、logfile" class="headerlink" title="6、logfile"></a>6、logfile</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Specify the log file name. Also 'stdout' can be used to force</span><br><span class="line"># Redis to log on the standard output. Note that if you use standard</span><br><span class="line"># output for logging but daemonize, logs will be sent to /dev/null</span><br><span class="line"># 配置 log 文件地址,默认打印在命令行终端的窗口上</span><br><span class="line">logfile stdout</span><br></pre></td></tr></table></figure>
<h3 id="7、databases"><a href="#7、databases" class="headerlink" title="7、databases"></a>7、databases</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Set the number of databases. The default database is DB 0, you can select</span><br><span class="line"># a different one on a per-connection basis using SELECT <span class="tag">&lt;<span class="name">dbid</span>&gt;</span> where</span><br><span class="line"># dbid is a number between 0 and 'databases'-1</span><br><span class="line"># 设置数据库的个数,可以使用 SELECT <span class="tag">&lt;<span class="name">dbid</span>&gt;</span>命令来切换数据库。默认使用的数据库是 0</span><br><span class="line">databases 16</span><br></pre></td></tr></table></figure>
<h3 id="8、save"><a href="#8、save" class="headerlink" title="8、save"></a>8、save</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#</span><br><span class="line"># Save the DB on disk:</span><br><span class="line">#</span><br><span class="line"># save <span class="tag">&lt;<span class="name">seconds</span>&gt;</span> <span class="tag">&lt;<span class="name">changes</span>&gt;</span></span><br><span class="line">#</span><br><span class="line"># Will save the DB if both the given number of seconds and the given</span><br><span class="line"># number of write operations against the DB occurred.</span><br><span class="line">#</span><br><span class="line"># In the example below the behaviour will be to save:</span><br><span class="line"># after 900 sec (15 min) if at least 1 key changed</span><br><span class="line"># after 300 sec (5 min) if at least 10 keys changed</span><br><span class="line"># after 60 sec if at least 10000 keys changed</span><br><span class="line">#</span><br><span class="line"># Note: you can disable saving at all commenting all the "save" lines.</span><br><span class="line"># 设置 Redis 进行数据库镜像的频率。</span><br><span class="line"># 900秒之内有1个keys发生变化时</span><br><span class="line"># 30秒之内有10个keys发生变化时</span><br><span class="line"># 60秒之内有10000个keys发生变化时</span><br><span class="line">save 900 1</span><br><span class="line">save 300 10</span><br><span class="line">save 60 10000</span><br></pre></td></tr></table></figure>
<h3 id="9、rdbcompression"><a href="#9、rdbcompression" class="headerlink" title="9、rdbcompression"></a>9、rdbcompression</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Compress string objects using LZF when dump .rdb databases?</span><br><span class="line"># For default that's set to 'yes' as it's almost always a win.</span><br><span class="line"># If you want to save some CPU in the saving child set it to 'no' but</span><br><span class="line"># the dataset will likely be bigger if you have compressible values or keys.</span><br><span class="line"># 在进行镜像备份时,是否进行压缩</span><br><span class="line">rdbcompression yes</span><br></pre></td></tr></table></figure>
<h3 id="10、dbfinename"><a href="#10、dbfinename" class="headerlink" title="10、dbfinename"></a>10、dbfinename</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># The filename where to dump the DB</span><br><span class="line">#镜像备份文件的文件名</span><br><span class="line">dbfilename dump.rdb</span><br></pre></td></tr></table></figure>
<h3 id="11、dir"><a href="#11、dir" class="headerlink" title="11、dir"></a>11、dir</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># The working directory.</span><br><span class="line">#</span><br><span class="line"># The DB will be written inside this directory, with the filename specified</span><br><span class="line"># above using the 'dbfilename' configuration directive.</span><br><span class="line"># </span><br><span class="line"># Also the Append Only File will be created inside this directory.</span><br><span class="line"># </span><br><span class="line"># Note that you must specify a directory here, not a file name.</span><br><span class="line"># 数据库镜像备份的文件放置的路径。这里的路径跟文件名要分开配置是因为 Redis 在进行备份时,</span><br><span class="line"># 先会将当前数据库的状态写入到一个临时文件中,等备份完成时,再把该该临时文件替换为上面所指</span><br><span class="line"># 定的文件,而这里的临时文件和上面所配置的备份文件都会放在这个指定的路径当中</span><br><span class="line">dir ./</span><br></pre></td></tr></table></figure>
<h3 id="12、slaveof"><a href="#12、slaveof" class="headerlink" title="12、slaveof"></a>12、slaveof</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Master-Slave replication. Use slaveof to make a Redis instance a copy of</span><br><span class="line"># another Redis server. Note that the configuration is local to the slave</span><br><span class="line"># so for example it is possible to configure the slave to save the DB with a</span><br><span class="line"># different interval, or to listen to another port, and so on.</span><br><span class="line"># 设置该数据库为其他数据库的从数据库</span><br><span class="line"># slaveof <span class="tag">&lt;<span class="name">masterip</span>&gt;</span> <span class="tag">&lt;<span class="name">masterport</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="13、masterauth"><a href="#13、masterauth" class="headerlink" title="13、masterauth"></a>13、masterauth</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># If the master is password protected (using the "requirepass" configuration</span><br><span class="line"># directive below) it is possible to tell the slave to authenticate before</span><br><span class="line"># starting the replication synchronization process, otherwise the master will</span><br><span class="line"># refuse the slave request.</span><br><span class="line"># 指定与主数据库连接时需要的密码验证</span><br><span class="line"># masterauth <span class="tag">&lt;<span class="name">master-password</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="14、requirepass"><a href="#14、requirepass" class="headerlink" title="14、requirepass"></a>14、requirepass</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># Require clients to issue AUTH <span class="tag">&lt;<span class="name">PASSWORD</span>&gt;</span> before processing any other</span><br><span class="line"># commands. This might be useful in environments in which you do not trust</span><br><span class="line"># others with access to the host running redis-server.</span><br><span class="line">#</span><br><span class="line"># This should stay commented out for backward compatibility and because most</span><br><span class="line"># people do not need auth (e.g. they run their own servers).</span><br><span class="line"># </span><br><span class="line"># Warning: since Redis is pretty fast an outside user can try up to</span><br><span class="line"># 150k passwords per second against a good box. This means that you should</span><br><span class="line"># use a very strong password otherwise it will be very easy to break.</span><br><span class="line"># 设置客户端连接后进行任何其他指定前需要使用的密码。</span><br><span class="line"># 警告:redis速度相当快,一个外部的用户可以在一秒钟进行150K次的密码尝试,</span><br><span class="line"># 你需要指定非常非常强大的密码来防止暴力破解。</span><br><span class="line"></span><br><span class="line"># requirepass foobared</span><br></pre></td></tr></table></figure>
<h3 id="15、maxclient"><a href="#15、maxclient" class="headerlink" title="15、maxclient"></a>15、maxclient</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Set the max number of connected clients at the same time. By default there</span><br><span class="line"># is no limit, and it's up to the number of file descriptors the Redis process</span><br><span class="line"># is able to open. The special value '0' means no limits.</span><br><span class="line"># Once the limit is reached Redis will close all the new connections sending</span><br><span class="line"># an error 'max number of clients reached'.</span><br><span class="line"># 限制同时连接的客户数量。当连接数超过这个值时,</span><br><span class="line"># redis 将不再接收其他连接请求,客户端尝试连接时将收到 error 信息</span><br><span class="line"># maxclients 128</span><br></pre></td></tr></table></figure>
<h3 id="16、maxmemory"><a href="#16、maxmemory" class="headerlink" title="16、maxmemory"></a>16、maxmemory</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># Don't use more memory than the specified amount of bytes.</span><br><span class="line"># When the memory limit is reached Redis will try to remove keys</span><br><span class="line"># accordingly to the eviction policy selected (see maxmemmory-policy).</span><br><span class="line">#</span><br><span class="line"># If Redis can't remove keys according to the policy, or if the policy is</span><br><span class="line"># set to 'noeviction', Redis will start to reply with errors to commands</span><br><span class="line"># that would use more memory, like SET, LPUSH, and so on, and will continue</span><br><span class="line"># to reply to read-only commands like GET.</span><br><span class="line">#</span><br><span class="line"># This option is usually useful when using Redis as an LRU cache, or to set</span><br><span class="line"># an hard memory limit for an instance (using the 'noeviction' policy).</span><br><span class="line">#</span><br><span class="line"># WARNING: If you have slaves attached to an instance with maxmemory on,</span><br><span class="line"># the size of the output buffers needed to feed the slaves are subtracted</span><br><span class="line"># from the used memory count, so that network problems / resyncs will</span><br><span class="line"># not trigger a loop where keys are evicted, and in turn the output</span><br><span class="line"># buffer of slaves is full with DELs of keys evicted triggering the deletion</span><br><span class="line"># of more keys, and so forth until the database is completely emptied.</span><br><span class="line">#</span><br><span class="line"># In short… if you have slaves attached it is suggested that you set a lower</span><br><span class="line"># limit for maxmemory so that there is some free RAM on the system for slave</span><br><span class="line"># output buffers (but this is not needed if the policy is 'noeviction').</span><br><span class="line"># 设置redis能够使用的最大内存。</span><br><span class="line"># 当内存满了的时候,如果还接收到set命令,redis将先尝试剔除设置过expire信息的key,</span><br><span class="line"># 而不管该key的过期时间还没有到达。</span><br><span class="line"># 在删除时,将按照过期时间进行删除,最早将要被过期的key将最先被删除。</span><br><span class="line"># 如果带有expire信息的key都删光了,那么将返回错误。</span><br><span class="line"># 这样,redis将不再接收写请求,只接收get请求。</span><br><span class="line"># maxmemory的设置比较适合于把redis当作于类似memcached 的缓存来使用</span><br><span class="line"># maxmemory <span class="tag">&lt;<span class="name">bytes</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="17、appendonly"><a href="#17、appendonly" class="headerlink" title="17、appendonly"></a>17、appendonly</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># By default Redis asynchronously dumps the dataset on disk. If you can live</span><br><span class="line"># with the idea that the latest records will be lost if something like a crash</span><br><span class="line"># happens this is the preferred way to run Redis. If instead you care a lot</span><br><span class="line"># about your data and don't want to that a single record can get lost you should</span><br><span class="line"># enable the append only mode: when this mode is enabled Redis will append</span><br><span class="line"># every write operation received in the file appendonly.aof. This file will</span><br><span class="line"># be read on startup in order to rebuild the full dataset in memory.</span><br><span class="line">#</span><br><span class="line"># Note that you can have both the async dumps and the append only file if you</span><br><span class="line"># like (you have to comment the "save" statements above to disable the dumps).</span><br><span class="line"># Still if append only mode is enabled Redis will load the data from the</span><br><span class="line"># log file at startup ignoring the dump.rdb file.</span><br><span class="line">#</span><br><span class="line"># IMPORTANT: Check the BGREWRITEAOF to check how to rewrite the append</span><br><span class="line"># log file in background when it gets too big.</span><br><span class="line"># 默认情况下,redis会在后台异步的把数据库镜像备份到磁盘,但是该备份是非常耗时的,</span><br><span class="line"># 而且备份也不能很频繁,如果发生诸如拉闸限电、拔插头等状况,那么将造成比较大范围的数据丢失。</span><br><span class="line"># 所以redis提供了另外一种更加高效的数据库备份及灾难恢复方式。</span><br><span class="line"># 开启append only模式之后,redis会把所接收到的每一次写操作请求都追加到appendonly.aof 文件中,</span><br><span class="line"># 当redis重新启动时,会从该文件恢复出之前的状态。但是这样会造成 appendonly.aof 文件过大,</span><br><span class="line"># 所以redis还支持了BGREWRITEAOF 指令,对appendonly.aof进行重新整理</span><br><span class="line">appendonly no</span><br></pre></td></tr></table></figure>
<h3 id="18、appendfsync"><a href="#18、appendfsync" class="headerlink" title="18、appendfsync"></a>18、appendfsync</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># The fsync() call tells the Operating System to actually write data on disk</span><br><span class="line"># instead to wait for more data in the output buffer. Some OS will really flush </span><br><span class="line"># data on disk, some other OS will just try to do it ASAP.</span><br><span class="line">#</span><br><span class="line"># Redis supports three different modes:</span><br><span class="line">#</span><br><span class="line"># no: don't fsync, just let the OS flush the data when it wants. Faster.</span><br><span class="line"># always: fsync after every write to the append only log . Slow, Safest.</span><br><span class="line"># everysec: fsync only if one second passed since the last fsync. Compromise.</span><br><span class="line">#</span><br><span class="line"># The default is "everysec" that's usually the right compromise between</span><br><span class="line"># speed and data safety. It's up to you to understand if you can relax this to</span><br><span class="line"># "no" that will will let the operating system flush the output buffer when</span><br><span class="line"># it wants, for better performances (but if you can live with the idea of</span><br><span class="line"># some data loss consider the default persistence mode that's snapshotting),</span><br><span class="line"># or on the contrary, use "always" that's very slow but a bit safer than</span><br><span class="line"># everysec.</span><br><span class="line">#</span><br><span class="line"># If unsure, use "everysec".</span><br><span class="line"># 设置对 appendonly.aof 文件进行同步的频率。</span><br><span class="line"># always 表示每次有写操作都进行同步,everysec表示对写操作进行累积,每秒同步一次。</span><br><span class="line"># appendfsync always</span><br><span class="line">appendfsync everysec</span><br><span class="line"># appendfsync no</span><br></pre></td></tr></table></figure>
<h3 id="19、vm-enabled"><a href="#19、vm-enabled" class="headerlink" title="19、vm-enabled"></a>19、vm-enabled</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># Virtual Memory allows Redis to work with datasets bigger than the actual</span><br><span class="line"># amount of RAM needed to hold the whole dataset in memory.</span><br><span class="line"># In order to do so very used keys are taken in memory while the other keys</span><br><span class="line"># are swapped into a swap file, similarly to what operating systems do</span><br><span class="line"># with memory pages.</span><br><span class="line">#</span><br><span class="line"># To enable VM just set 'vm-enabled' to yes, and set the following three</span><br><span class="line"># VM parameters accordingly to your needs.</span><br><span class="line"># 是否开启虚拟内存支持。因为redis 是一个内存数据库,而且当内存满的时候,无法接收新的写请求,</span><br><span class="line"># 所以在redis2.0中,提供了虚拟内存的支持。</span><br><span class="line"># 但是需要注意的是,redis中,所有的key都会放在内存中,在内存不够时,只会把value值放入交换区。</span><br><span class="line"># 这样保证了虽然使用虚拟内存,但性能基本不受影响,</span><br><span class="line"># 同时,你需要注意的是你要把vm-max-memory设置到足够来放下你的所有的key</span><br><span class="line">vm-enabled no</span><br><span class="line"># vm-enabled yes</span><br></pre></td></tr></table></figure>
<h3 id="20、vm-swap-file"><a href="#20、vm-swap-file" class="headerlink" title="20、vm-swap-file"></a>20、vm-swap-file</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># This is the path of the Redis swap file. As you can guess, swap files</span><br><span class="line"># can&apos;t be shared by different Redis instances, so make sure to use a swap</span><br><span class="line"># file for every redis process you are running. Redis will complain if the</span><br><span class="line"># swap file is already in use.</span><br><span class="line">#</span><br><span class="line"># The best kind of storage for the Redis swap file (that&apos;s accessed at random) </span><br><span class="line"># is a Solid State Disk (SSD).</span><br><span class="line">#</span><br><span class="line"># *** WARNING *** if you are using a shared hosting the default of putting</span><br><span class="line"># the swap file under /tmp is not secure. Create a dir with access granted</span><br><span class="line"># only to Redis user and configure Redis to create the swap file there.</span><br><span class="line"># 设置虚拟内存的交换文件路径</span><br><span class="line">vm-swap-file /tmp/redis.swap</span><br></pre></td></tr></table></figure>
<h3 id="21、vm-max-memory"><a href="#21、vm-max-memory" class="headerlink" title="21、vm-max-memory"></a>21、vm-max-memory</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># vm-max-memory configures the VM to use at max the specified amount of</span><br><span class="line"># RAM. Everything that deos not fit will be swapped on disk *if* possible, that</span><br><span class="line"># is, if there is still enough contiguous space in the swap file.</span><br><span class="line">#</span><br><span class="line"># With vm-max-memory 0 the system will swap everything it can. Not a good</span><br><span class="line"># default, just specify the max amount of RAM you can in bytes, but it's</span><br><span class="line"># better to leave some margin. For instance specify an amount of RAM</span><br><span class="line"># that's more or less between 60 and 80% of your free RAM.</span><br><span class="line"># 这里设置开启虚拟内存之后,redis将使用的最大物理内存的大小。</span><br><span class="line"># 默认为0,redis将把他所有的能放到交换文件的都放到交换文件中,以尽量少的使用物理内存。</span><br><span class="line"># 在生产环境下,需要根据实际情况设置该值,最好不要使用默认的 0</span><br><span class="line">vm-max-memory 0</span><br></pre></td></tr></table></figure>
<h3 id="22、vm-page-size"><a href="#22、vm-page-size" class="headerlink" title="22、vm-page-size"></a>22、vm-page-size</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># Redis swap files is split into pages. An object can be saved using multiple</span><br><span class="line"># contiguous pages, but pages can't be shared between different objects.</span><br><span class="line"># So if your page is too big, small objects swapped out on disk will waste</span><br><span class="line"># a lot of space. If you page is too small, there is less space in the swap</span><br><span class="line"># file (assuming you configured the same number of total swap file pages).</span><br><span class="line">#</span><br><span class="line"># If you use a lot of small objects, use a page size of 64 or 32 bytes.</span><br><span class="line"># If you use a lot of big objects, use a bigger page size.</span><br><span class="line"># If unsure, use the default </span><br><span class="line"># 设置虚拟内存的页大小,如果你的value值比较大,比如说你要在value中放置博客、</span><br><span class="line"># 新闻之类的所有文章内容,就设大一点,如果要放置的都是很小的内容,那就设小一点</span><br><span class="line">vm-page-size 32</span><br></pre></td></tr></table></figure>
<h3 id="23、vm-pages"><a href="#23、vm-pages" class="headerlink" title="23、vm-pages"></a>23、vm-pages</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># Number of total memory pages in the swap file.</span><br><span class="line"># Given that the page table (a bitmap of free/used pages) is taken in memory,</span><br><span class="line"># every 8 pages on disk will consume 1 byte of RAM.</span><br><span class="line">#</span><br><span class="line"># The total swap size is vm-page-size * vm-pages</span><br><span class="line">#</span><br><span class="line"># With the default of 32-bytes memory pages and 134217728 pages Redis will</span><br><span class="line"># use a 4 GB swap file, that will use 16 MB of RAM for the page table.</span><br><span class="line">#</span><br><span class="line"># It's better to use the smallest acceptable value for your application,</span><br><span class="line"># but the default is large in order to work in most conditions.</span><br><span class="line"># 设置交换文件的总的 page 数量,</span><br><span class="line"># 需要注意的是,page table信息会放在物理内存中,每8个page就会占据RAM中的1个byte。</span><br><span class="line"># 总的虚拟内存大小 = vm-page-size * vm-pages</span><br><span class="line">vm-pages 134217728</span><br></pre></td></tr></table></figure>
<h3 id="24、vm-max-threads"><a href="#24、vm-max-threads" class="headerlink" title="24、vm-max-threads"></a>24、vm-max-threads</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Max number of VM I/O threads running at the same time.</span><br><span class="line"># This threads are used to read/write data from/to swap file, since they</span><br><span class="line"># also encode and decode objects from disk to memory or the reverse, a bigger</span><br><span class="line"># number of threads can help with big objects even if they can't help with</span><br><span class="line"># I/O itself as the physical device may not be able to couple with many</span><br><span class="line"># reads/writes operations at the same time.</span><br><span class="line">#</span><br><span class="line"># The special value of 0 turn off threaded I/O and enables the blocking</span><br><span class="line"># Virtual Memory implementation.</span><br><span class="line"># 设置 VM IO 同时使用的线程数量。</span><br><span class="line">vm-max-threads 4</span><br></pre></td></tr></table></figure>
<h3 id="25、hash-max-zipmap"><a href="#25、hash-max-zipmap" class="headerlink" title="25、hash-max-zipmap"></a>25、hash-max-zipmap</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Hashes are encoded in a special way (much more memory efficient) when they</span><br><span class="line"># have at max a given numer of elements, and the biggest element does not</span><br><span class="line"># exceed a given threshold. You can configure this limits with the following</span><br><span class="line"># configuration directives.</span><br><span class="line"># redis 2.0 中引入了 hash 数据结构。 </span><br><span class="line"># hash中包含超过指定元素个数并且最大的元素当没有超过临界时,</span><br><span class="line"># hash 将以zipmap(又称为 small hash大大减少内存使用)来存储,这里可以设置这两个临界值</span><br><span class="line">hash-max-zipmap-entries 512</span><br><span class="line">hash-max-zipmap-value 64</span><br></pre></td></tr></table></figure>
<h3 id="26、activerehashing"><a href="#26、activerehashing" class="headerlink" title="26、activerehashing"></a>26、activerehashing</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># Active rehashing uses 1 millisecond every 100 milliseconds of CPU time in</span><br><span class="line"># order to help rehashing the main Redis hash table (the one mapping top-level</span><br><span class="line"># keys to values). The hash table implementation redis uses (see dict.c)</span><br><span class="line"># performs a lazy rehashing: the more operation you run into an hash table</span><br><span class="line"># that is rhashing, the more rehashing "steps" are performed, so if the</span><br><span class="line"># server is idle the rehashing is never complete and some more memory is used</span><br><span class="line"># by the hash table.</span><br><span class="line"># </span><br><span class="line"># The default is to use this millisecond 10 times every second in order to</span><br><span class="line"># active rehashing the main dictionaries, freeing memory when possible.</span><br><span class="line">#</span><br><span class="line"># If unsure:</span><br><span class="line"># use "activerehashing no" if you have hard latency requirements and it is</span><br><span class="line"># not a good thing in your environment that Redis can reply form time to time</span><br><span class="line"># to queries with 2 milliseconds delay.</span><br><span class="line">#</span><br><span class="line"># use "activerehashing yes" if you don't have such hard requirements but</span><br><span class="line"># want to free memory asap when possible.</span><br><span class="line"># 开启之后, redis将在每100毫秒时使用1毫秒的CPU时间来对redis的hash表进行重新hash,</span><br><span class="line"># 可以降低内存的使用。</span><br><span class="line"># 当你的使用场景中,有非常严格的实时性需要,不能够接受Redis时不时的对请求有2毫秒的延迟的话,</span><br><span class="line"># 把这项配置为 no。</span><br><span class="line"># 如果没有这么严格的实时性要求,可以设置为 yes,以便能够尽可能快的释放内存</span><br><span class="line">activerehashing yes</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuechang.github.io/2015/07/07/Redis的安装/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yue Chang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://yuechang.qiniudn.com/naruto.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="漠北空城">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/07/Redis的安装/" itemprop="url">Redis的安装</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-07-07T21:50:01+08:00">
                Jul 7 2015
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2015/07/07/Redis的安装/" class="leancloud_visitors" data-flag-title="Redis的安装">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>redis是比较流行的NOSQL数据库之一，下面来记录下redis的安装过程：</p>
<h3 id="1-安装环境介绍："><a href="#1-安装环境介绍：" class="headerlink" title="1. 安装环境介绍："></a>1. 安装环境介绍：</h3><p>Redis版本：redis-3.0.1<br>Linux版本：Red Hat Enterprise Linux Workstation release 7.0 (Maipo)</p>
<h3 id="2-下载所需Redis文件"><a href="#2-下载所需Redis文件" class="headerlink" title="2. 下载所需Redis文件"></a>2. 下载所需Redis文件</h3><p>在<a href="[http://redis.io]">http://redis.io</a>下载最新的稳定版本。这里下载的是redis-3.0.1.tar.gz</p>
<h3 id="3-将所下载文件放入Linux系统中"><a href="#3-将所下载文件放入Linux系统中" class="headerlink" title="3. 将所下载文件放入Linux系统中"></a>3. 将所下载文件放入Linux系统中</h3><p>通过Xmanager中Xftp工具连接到对应机器，将redis-3.0.1.tar.gz放到/redis文件夹下，如下图：<br><img src="http://7s1reu.com1.z0.glb.clouddn.com/reids安装-1.jpg" alt="将所下载文件放入到Linux系统中"></p>
<h3 id="4-将压缩文件解压并编译"><a href="#4-将压缩文件解压并编译" class="headerlink" title="4. 将压缩文件解压并编译"></a>4. 将压缩文件解压并编译</h3><p>解压：tar zxvf redis-3.0.1.tar.gz<br>编译：make<br><img src="http://7s1reu.com1.z0.glb.clouddn.com/reids安装-2.jpg" alt="解压"><br><img src="http://7s1reu.com1.z0.glb.clouddn.com/reids安装-3.jpg" alt="编译"></p>
<h3 id="5-启动redis服务器"><a href="#5-启动redis服务器" class="headerlink" title="5. 启动redis服务器"></a>5. 启动redis服务器</h3><p>切换到src目录下，并通过./redis-server /redis/redis-3.0.1/redis.conf启动 服务器<br><img src="http://7s1reu.com1.z0.glb.clouddn.com/redis安装-5.jpg" alt="启动redis服务器"></p>
<h3 id="6-验证服务器是否成功启动"><a href="#6-验证服务器是否成功启动" class="headerlink" title="6. 验证服务器是否成功启动"></a>6. 验证服务器是否成功启动</h3><p>通过./redis-cli -h 192.168.161.252 -p 6379连接到客户端，并设置相关值来验证服务器是否成功启动<br><img src="http://7s1reu.com1.z0.glb.clouddn.com/reids安装-6.jpg" alt="验证服务器是否成功启动"></p>
<h3 id="7-其他相关命令参考"><a href="#7-其他相关命令参考" class="headerlink" title="7. 其他相关命令参考"></a>7. 其他相关命令参考</h3><p>查看redis相关线程：ps -ef|grep redis<br>关闭redis服务：./redis-cli -h 192.168.153.138 -p 6379<br>查看redis信息：./redis-cli -h 192.168.153.138 -p 6379 info</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuechang.github.io/2015/05/31/克罗地亚狂想曲/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yue Chang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://yuechang.qiniudn.com/naruto.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="漠北空城">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/05/31/克罗地亚狂想曲/" itemprop="url">克罗地亚狂想曲</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-05-31T21:35:08+08:00">
                May 31 2015
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2015/05/31/克罗地亚狂想曲/" class="leancloud_visitors" data-flag-title="克罗地亚狂想曲">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="马克西姆-克罗地亚狂想曲"><a href="#马克西姆-克罗地亚狂想曲" class="headerlink" title="马克西姆-克罗地亚狂想曲"></a>马克西姆-克罗地亚狂想曲</h3><p><img src="http://7s1reu.com1.z0.glb.clouddn.com/maksim.jpg" alt="maksim"><br>乐曲建构了一个让人印象深刻的和弦的三音主题。<br>克罗地亚战后，<br>尚未散去的硝烟在空气中弥散着。<br>天空有些低沉，<br>专辑封面<br>专辑封面<br>不知是雨前的预兆，<br>还是硝烟的弥漫，<br>云朵在天空中呈现出一种忧郁的灰色。<br>倒塌的墙壁让凌乱的碎石铺了一地，<br>尘埃在空气里飘摇，<br>最终落定，回归泥土。<br>在战火摧残后的断垣残壁中，<br>开着一朵不知名的白色小花。<br>克罗地亚战后，<br>尚未散去的硝烟在空气中弥散着。<br>天空有些低沉，<br>不知说不出名字的小白花，<br>在风里微微的摇曳。<br>它看着人们来来去去，<br>看着战车，<br>坦克威胁着要摧毁它的根与土，<br>也看着鸟儿偶尔慌张驻足。<br>想在人烟散尽的石缝中找寻一点面包屑……<br>只有夜晚来临时，<br>它才看得到平静。<br>在这块紧邻着亚得里亚海的土地上，<br>这些年星光特别璀璨，<br>或许是霓虹与车水马龙都已散去的缘故，<br>这样的夜里，<br>有悲伤，<br>也有着无声的凄凉。<br>曲子和弦美到了极至，<br>每每听到这首曲子时，<br>心中总是泛起淡淡的伤感和坚强。<br>因为对这支曲子有着特殊的情感,<br>现在却越发不敢去弹它,<br>怕它勾起回忆,<br>但是这也是我向上帝所祈求的.<br>马克西姆所演奏的另一首钢琴曲：出埃及记，</p>
<p>描述的也是一段战争与新生，<br>讲述犹太人在血与火之中重建犹太国家以色列的故事，<br>悲壮宏大，<br>让我不由得想起一个东西，<br>那是一个不带任何感情的杀戮机器，<br>大家通常称之为：历史。<br>基于动物性中的种种阴暗面，<br>人在不停的互相杀戮，<br>从未止息，<br>那些并不厚重的历史书，<br>挟裹的是几千年的鲜血。<br>有人曾经预言：<br>人类最终的走向是自我毁灭，<br>所有的一切都将会毁灭在自己手中。<br>或许是，<br>不过在那些阴暗和鲜血的另一面，<br>是人性中光辉不屈的一面：<br>无论是遗忘还是铭记，<br>总会继续坚强的生存下去，<br>带着伤痕，<br>在被摧残的大地上夺取新生<br>一如克罗地亚废墟上的那朵白色小花。</p>
<div id="dplayer1" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer1"),"theme":"#FADFA3","video":{"url":"http://yuechang.qiniudn.com/CroatianRhapsody.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuechang.github.io/2015/05/19/做一个内心强大的人/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yue Chang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://yuechang.qiniudn.com/naruto.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="漠北空城">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/05/19/做一个内心强大的人/" itemprop="url">做一个内心强大的人</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-05-19T22:42:31+08:00">
                May 19 2015
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2015/05/19/做一个内心强大的人/" class="leancloud_visitors" data-flag-title="做一个内心强大的人">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://yuechang.qiniudn.com/千与千寻.jpg" alt="千与千寻"></p>
<p>二百年前丹麦思想家克尔凯郭尔一生一贫如洗，生命也很短暂，但是，他内心强大，一生充满快乐。像这样的人的幸福，是一般人所难以理解的。像这样内心强大的人，其实是精神贵族。<br>　　<br>现代社会，每个人都面对强大的社会压力，这其中，有来自事业的压力，身体健康的压力，亲人朋友给的压力。很多人无法承受一点委屈，当被人误解和冤枉时，往往感觉心理很受伤。而其实一个真正内心强大的人，是没有人能伤害你的。因为，内心强大的人，他不活在别人的眼光里。即使全国的人以他为敌，即使全世界的人误解了他，孤立了他，他也能够淡然而坚定地生活。内心强大的人，在真理与真相面前，他就是敢于成为国民之敌的人，在这个时候，那个最孤独的人，就是世界上最有力量的人，成为千夫所指的人，也就是真正有思想的人，这样的人的内心世界就到了强大之极的地步。<br>　　<br>但请不要误解，一个拥有强大内心的男人，平时并非是强势的咄咄逼人的，相反他可能是温柔的、微笑的、韧性的、不紧不慢的、沉着而淡定的。拥有强大内心的男人，他们反而更温柔，更和蔼。内心强大是心中的安定与平静。强大，不是霸道，不是要将别人的所有占为己有，恰恰相反，内心的强大带给我们的是宽容和谦让。正是因为内心的安定与平静，我们才明白自己真正需要什么，才明白如何才能得到快乐。<br>　　<br>每个人都会受伤害，因为人生没有绝对的公平，而是相对公平的。当在一个天平秤上，你得到的越多，也必须比别人承受得更多。同样的伤害，区别在于，内心强大的人更懂得安慰自己，并总是对未来充满希望。当我们内心强大到可以战胜一切恐惧与悲观的时候，其实已经无所谓希望了，因为我们在哪儿，希望就在哪儿。所以，世界上总有这么一种人，似乎特别得到老天爷的偏爱。他总是有自己的理想，并且总是努力去做，最重要的是，老天爷每一次都会帮他取得成功。是不是很令人羡慕？<br>　<br>其实，我一直以为，与其说每个人有自己的命运，人生各不相同，倒不如说我们自己打造了自己别样的人生。内心的强大，是人生目标的清晰。因为清晰，所以我们可以坚定地走下去；因为清晰，我们才不会跌跌撞撞却不知身在何方；因为清晰，我们才可以知道什么是对的，什么是错的。不要用世俗的标准去衡量它们。不要给他们标记上“对”或者“错”。我们必须看清楚它们究竟是什么。如果听到自己的心说“我要挣大钱”，也不必觉得难以启齿。在道德标准范围内，任何想法都完全可以心安理得。我们应该做的，只是让他们变得明朗化。不要让内心积聚太多的冲突。<br>　　<br>其实，在人生的任何时候都不要怕重头再来，每一个看似低的起点，都是通往更高峰的必经之路。人人都有他的难处，何必强求于人。痛苦与快乐不在于外在物质的有无，而在自己心境的修养。无论做什么，记得是为自己而做，那就毫无怨言。面对困境，也不要悲观厌世。我们也许会暂时变得一无所有。空空的手心并不意味着空空的内心。卷土重来的英雄故事我们听得太多了。一切只关乎内心的强大。我们可以苦闷、可以失落，但是不可以内心空虚。必须明白，环境是什么并不重要，记得让自己的内心强大起来。让自己更平和一点，更豁达一点，对于身边的过错，让自己更宽容一点。<br>　　<br>内心强大的人不失眠，不焦虑，不急躁，随时随地作人生中最坏的打算，往最好处追求。一切灾难与痛苦，都早在他的生命中思量过了，甚至丰富真切地体验过了。所以，不管做任何事，记住，先建设一个强大的内心。我不依靠任何人给我幸福，任何人的爱对我的人生只是锦上添花，而不是生命之源。这爱来了，这爱存在，我很快乐；这爱没了，这爱切断了，我会伤感，却不会绝望。因为，我始终知道，幸福和快乐，是自己给予自己的</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuechang.github.io/2015/05/18/二十岁出头的时候，你一无所有，你拥有一切/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yue Chang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://yuechang.qiniudn.com/naruto.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="漠北空城">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/05/18/二十岁出头的时候，你一无所有，你拥有一切/" itemprop="url">二十岁出头的时候，你一无所有，你拥有一切</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-05-18T23:05:54+08:00">
                May 18 2015
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2015/05/18/二十岁出头的时候，你一无所有，你拥有一切/" class="leancloud_visitors" data-flag-title="二十岁出头的时候，你一无所有，你拥有一切">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>二十岁出头的时候，你一无所有，你拥有一切。<br>说明：此文虽然是转载的，但是我依旧争取上首页，传递正能量。希望管理能让它在首页多停留一会献给那些正在奋斗的人们！</p>
<p>一篇治愈系的励志文，让我想到一句话，青春就是明明一无所有，却仍然相信有一天世界会在你脚下。 </p>
<div style="background:#808080; color:#FFF"><br>（1）嘴上说说的人生<br>&nbsp;<br></div><br>那年我在离家的时候一个劲地往自己的硬盘里塞《灌篮高手》，我妈一副嗤之以鼻的表情看着我，似乎是在说：“这么大的人了居然还这么喜欢看动漫。”<br><br>我不知道怎么回应她，只好耸耸肩，因为我实在无法对我亲爱的娘亲说明这部动漫对我的意义。<br><br>你知道，有些歌有些东西就是有那种力量。哪怕它在你的手机里藏了好几年，哪怕它早就过了黄金期，哪怕越来越少的人会提起它。你就是知道，当你一听起这首歌的时候，当你一看起那些漫画的时候，你就会想到以前的自己，你就会获得一种莫名的力量。这种力量能够让你感受到自己的节奏，让你以跟世界不同的方式独自运转着，你能听到自己。比如那首永远的butterfly和直到世界的尽头，它们比记忆更可靠。<br><br>在记忆里最让你印象深刻的，一定是当年的你自己。因为只有在这个时候才发现，在你嚷嚷着“时间变化太快”的同时，在那些所谓的“物是人非”里，变化最多的人是你自己。我不知道怎么样的人生是最可怕的，但是我知道当你有一天你回头看，当你发现你曾经所说的一切，你曾经信誓旦旦的一切变成说说而已的时候，一定不会好受到哪里去。<br><br>好像人一长大，就会把很多东西给弄丢了。比如那些简单却能让自己充实开心一天的东西，比如让自己肆意哭和笑的能力，还有那些曾经一起结伴同行的人。最可怕的不是弄丢了这些东西，而是你变得心安理得。你开始安慰自己，这就是成长，这就是我们最终会变成的样子。你只是找了个借口继续这样的生活，对以前的自己嗤之以鼻。<br><br>只是每当你听起以前的歌的时候，或者你看到某个人在他自己的道路坚持下去的时候，你都会像被自己扇了一个大嘴巴。<br><br>看着别人的努力羡慕一下然后转身回去过自己的生活的你，又凭什么去过自己想要的人生？<br><br><br><div style="background:#808080; color:#FFF"><br>(2)努力，是为了给自己交代<br>&nbsp;<br></div><br>曾经跟好友为了商谈一个项目去北京，对方是一个标准的八零后，北漂。这是他飘着的第三年，伴随着他一直没有改变的直来直往的性格。这是他第三年换的第三份工作，一直没有安稳过。他说：“这些年我看过了很多人，有些人不用做什么就可以有很好的前景，有些人拼死拼活还是没有办法在这个城市里生存。”<br><br>在沪江上认识的一个小姑娘，她曾经差点为了她的男朋友去国外陪读一年，可是后来他们偏偏分手了。后来她决定一个人去上海，最苦逼的时候连饭都没得吃，就拿着几个包子躲在地铁站里，不知道去哪里。<br><br>曾经我总是无法理解，明明回到爸妈身边工作更好，也可以陪在爸妈身边，何必在大城市里摸爬滚打，还得不到一个很好的结果。就像我曾经写过的那个在动车里哭泣的姑娘，到最后没办法了只能回家。我曾觉得这样太不值得，然而当我有一天面临选择的时候，我终于明白他们做决定的时候是一个什么样的心情。<br><br>那个北漂着的哥们说过，哪怕自己奋斗了一辈子也是个屌丝，那么至少这样子自己不会再有借口了，不会在老的时候悔不该当初。你说值得么？我觉得值得。虽然我直来直往的性格给自己带来了很多麻烦，但这就是我，这就是我存在的方式。<br><br>其实所有漂泊的人，不过是为了有一天能够不再漂泊，能用自己的力量撑起身后的家人和自己爱的人。你觉得最好的生活状态是什么？我觉得最好的生活状态莫过于，在你的青春年纪傻逼地为了理想坚持过，最后回到平淡用现实的方法让自己生活下去。能实现梦想自然是最好，但没能实现自己的梦想那也没有什么可惜的。成长的第一步就是接受这个世界的多样性，认识到现实的不美好，然后还是决定要坚持最初的坚持。<br><br>小时候我总嚷嚷着，努力是了改变世界，然而现在的我会觉得，有些人努力只是为了变成一个普通人，有些人努力只是为了给自己交代，也许我们始终都只是一个小人物，但这并不妨碍我们选择用什么样的方式活下去。窃以为，那些在看透了生活的无奈之后，还是选择不敷衍不抱怨不自卑依旧热爱生活依旧努力做好身边的事的人，努力便是他们对自己的交代。<br><br>就像我曾经跟李婧讨论去哪里工作的时候，最后我们得出结论，其实无论在哪个城市存活都不容易，但无论过成什么样子，都要自己承担的起。<br><br>我有勇气做选择，自然要有本事承担地起后果。<br><br><br><div style="background:#808080; color:#FFF"><br>（3）只有行动，才能解除你所有的不安。<br>&nbsp;<br></div><br>你说你想要当自由撰稿人，可从不见你努力写稿；你说你想考研，可从不见你背词做题；你看到学霸出没于是嗤之以鼻说这样活着没意思，你看到有人旅行又不屑一顾说这只是从大流。我开始怀疑你挂在嘴边的是不是逃避现实的借口，我开始怀疑你是不是在一遍遍逃避和自我安慰中变得惴惴不安。<br><br>于是你慢慢屈服于自己的欲望。明明在几年以后能有更好的生活，却一定要在现在买上最新的包。每个人都开始想要达到一定的社会地位和物质条件，似乎结果才是最重要的。然而，你有没有想过，你所谓的所有努力，是为了满足你的欲望还是真的追求上进？就像汪峰的歌里面说的：“少人走着却困在原地，多少人活着却如同死去，多少人爱着却好似分离，多少人笑着却满含泪滴。”<br><br>终于有一天，你发现你取得了当时所要的结果，可是在那之后，却再也不知道怎么继续了。<br><br>二十岁出头的时候，请把自己摆在二十岁出头的位置上。你没有理由也没能力去拥有一个四十岁的人拥有的阅历和财富，你除了手头的青春你一无所有，但就是你手头这为数不多的东西，能决定你是一个怎么样的人。<br><br>我不知道这个世界上是不是真的有所谓的安全感，还是因为每个人都说自己没有安全感，所以你也觉得自己没有安全感。我对安全感的定义只有两个：一是别人给你的能量总有一天会消失的，只有自己给自己的安全感最可靠，只有行动才会给你带来安全感；二是永远要记得，不管你是一个什么样的德行，你都是你父母的安全感。<br><br>所以当你觉得不安的时候，请想一想身后的父母，想想他们正在为你打拼；请想一想自己的初衷，然后抬起头继续倔强地走下去。<br><br>唯有行动，才能解除你所有的不安。<br><br><br><div style="background:#808080; color:#FFF"><br>（4）有梦想，不抱怨。<br>&nbsp;<br></div><br>时间一天天过去，我们终会因我们的努力或堕落变得丰富或苍白。<br><br>有时间我就每天花两小时看书，没时间就睡前看二十分钟，周末的话可以看完整本书。做论题做一遍做不好我就做两遍，文稿要求我写一万字我就写将近两万字然后删。写出一篇好文是运气，如果一个人一直在写的话，那就是靠努力。更多时候，世界对你的态度取决于你对世界的态度，没什么好抱怨的。<br><br>为什么我们一再打击还要继续向前走？为什么明明很失望了我们也不愿意放弃一个人和一个理想？<br><br>所有人，所有人还坚持向前走着，只是因为他想要向前走着，只是因为他还不愿意像世界投降。也许没有人跟你完全一样，也没有人可以时时刻刻地陪在你身边，也许我们很久以后回过头来看，会连现在的珍惜的人的样貌都记不清。可是我最大的幸运却是，即便如此，还是有人愿意在有限的时间里用心地陪我走过这一段。愿意跟我一起为了梦想努力，经历那些孤单流离。<br><br>这样一想，人生也还真是不错呢。<br><br>当你看书看到头痛两眼通红的时候；当你按着遥控器不停转台的时候；当你翻着通讯录不知道打给谁的时候；当你独自穿越人群看着两岸灯火找不到归属感的时候；你就应该听起一首歌，看起一本书，想想自己最初的坚持和你站在这个地方的理由，然后抬起头勇敢地走下去了。<br><br>这首歌有一句话是：“是否找个理由随波逐流 或是勇敢前行挣脱牢笼 ”，我想，你知道答案。<br><br><div style="color:red"><br>你现在一无所有，但你却拥有一切，因为你还有牛逼的梦想。只要路是自己选的，就不怕走远，生活总会留点什么给对它抱有信心的人的。<br></div>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/10/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/12/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="http://yuechang.qiniudn.com/naruto.jpg"
                alt="Yue Chang" />
            
              <p class="site-author-name" itemprop="name">Yue Chang</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">62</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                友链
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://blog.xyz327.cn/" title="xyz327" target="_blank">xyz327</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yue Chang</span>

  
</div>









<div style="text-align:center;width:100%;height:50">
  粤ICP备18054530号-2
  <span id="busuanzi_container_site_pv">
    &nbsp;&nbsp;|&nbsp;&nbsp;
    本站总访问量: <span id="busuanzi_value_site_pv"></span>次
  </span> 

  <span id="busuanzi_container_site_uv" class="theme-info">
    &nbsp;&nbsp;|&nbsp;&nbsp;
    本站访客数: <span id="busuanzi_value_site_uv"></span>人次
  </span>
<div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  














  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.4"></script>



  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("gxjtQDQU8Po0WNAWg2EuOQPj-gzGzoHsz", "igR8qwpo2ez9JtsjOwu04w6Q");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

</body>
</html>
